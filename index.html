<!doctype html>
<html lang="id" class="scroll-smooth">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Renn Portfolio</title>
    <link rel="stylesheet" href="./dist/assets/css/style.css" />
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Lora:ital@0;1&display=swap"
      rel="stylesheet"
    />
    <link
      href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&display=swap"
      rel="stylesheet"
    />
    <link href="https://unpkg.com/aos@2.3.4/dist/aos.css" rel="stylesheet" />
  </head>

  <body class="bg-zinc-950 text-white transition-colors duration-300">
    <header id="navbar"></header>
    <main>
      <section id="hero"></section>

      <section id="about"></section>

      <section id="education"></section>

      <section id="skills"></section>

      <section id="projects"></section>

      <section id="certificates"></section>
    </main>
    <footer id="footer"></footer>

    <script src="./dist/assets/js/main.js"></script>
    <script src="./dist/assets/js/theme.js"></script>
    <script src="./dist/assets/js/projects.js"></script>

    <script src="https://unpkg.com/aos@2.3.4/dist/aos.js"></script>

    <script>
      AOS.init({
        duration: 900,
        once: true,
        easing: "ease-out-cubic",
      });
    </script>

    <script>
      function initNavbarMenu() {
        const toggle = document.getElementById("menuToggle");
        const menu = document.getElementById("mobileMenu");
        if (!toggle || !menu) return false; // kalau belum ada, tunggu dulu

        const links = menu.querySelectorAll("a");

        // === TOGGLE MENU OPEN / CLOSE ===
        toggle.addEventListener("click", () => {
          toggle.classList.toggle("open");

          if (menu.classList.contains("hidden")) {
            // OPEN
            menu.classList.remove("hidden");
            menu.classList.add("flex", "animate-fadeInDown");
          } else {
            // CLOSE
            menu.classList.add("animate-fadeOutUp");
            setTimeout(() => {
              menu.classList.add("hidden");
              menu.classList.remove(
                "flex",
                "animate-fadeInDown",
                "animate-fadeOutUp",
              );
            }, 300);
            toggle.classList.remove("open");
          }
        });

        // === CLOSE MENU AFTER CLICKING ANY LINK ===
        links.forEach((link) => {
          link.addEventListener("click", () => {
            menu.classList.add("animate-fadeOutUp");
            setTimeout(() => {
              menu.classList.add("hidden");
              menu.classList.remove(
                "flex",
                "animate-fadeInDown",
                "animate-fadeOutUp",
              );
            }, 300);
            toggle.classList.remove("open");

            const targetId = link.getAttribute("href");
            if (targetId.startsWith("#")) {
              const targetEl = document.querySelector(targetId);
              if (targetEl) {
                targetEl.scrollIntoView({ behavior: "smooth" });
              }
            }
          });
        });

        return true; // sudah berhasil load
      }

      // Jalankan terus sampai navbar sudah dimuat
      document.addEventListener("DOMContentLoaded", () => {
        const navbarCheck = setInterval(() => {
          const success = initNavbarMenu();
          if (success) clearInterval(navbarCheck);
        }, 200);
      });
    </script>

    <script>
      function initTypingEffect() {
        const typingText = document.getElementById("typingText");
        if (!typingText) return false;

        const textToType = "Information Systems Student";
        let index = 0;

        typingText.textContent = ""; //

        function type() {
          if (index < textToType.length) {
            typingText.textContent += textToType.charAt(index);
            index++;
            setTimeout(type, 100);
          }
        }

        type();
        return true;
      }
      document.addEventListener("DOMContentLoaded", () => {
        const interval = setInterval(() => {
          const success = initTypingEffect();
          if (success) clearInterval(interval);
        }, 200);
      });
    </script>

    <script>
      document.addEventListener("DOMContentLoaded", () => {
        const reveals = document.querySelectorAll(".reveal");

        const observer = new IntersectionObserver(
          (entries) => {
            entries.forEach((entry) => {
              if (entry.isIntersecting) {
                entry.target.classList.add("show");
              }
            });
          },
          { threshold: 0.15 },
        );

        reveals.forEach((el) => observer.observe(el));
      });
    </script>

    <script>
      function initSkillToggle() {
        const techGrid = document.getElementById("techGrid");
        const toolsGrid = document.getElementById("toolsGrid");
        const slider = document.getElementById("skillSlider");
        const btnTech = document.getElementById("btnTech");
        const btnTools = document.getElementById("btnTools");

        if (!techGrid || !toolsGrid || !slider || !btnTech || !btnTools)
          return false;

        window.showTech = function () {
          techGrid.classList.remove("hidden");
          toolsGrid.classList.add("hidden");
          slider.style.transform = "translateX(0%)";

          btnTech.classList.remove("text-white");
          btnTech.classList.add("text-black", "font-semibold");

          btnTools.classList.remove("text-black", "font-semibold");
          btnTools.classList.add("text-white");
        };

        window.showTools = function () {
          techGrid.classList.add("hidden");
          toolsGrid.classList.remove("hidden");
          slider.style.transform = "translateX(100%)";

          btnTools.classList.remove("text-white");
          btnTools.classList.add("text-black", "font-semibold");

          btnTech.classList.remove("text-black", "font-semibold");
          btnTech.classList.add("text-white");
        };

        return true;
      }

      document.addEventListener("DOMContentLoaded", () => {
        const checkInterval = setInterval(() => {
          const success = initSkillToggle();
          if (success) clearInterval(checkInterval);
        }, 200);
      });
    </script>

    <script>
      function initProjectCarousel() {
        const carousel = document.getElementById("projectCarousel");
        const backBtn = document.getElementById("backBtn");
        const nextBtn = document.getElementById("nextBtn");

        if (!carousel || !backBtn || !nextBtn) return false;

        let index = 0;
        const total = carousel.children.length;

        carousel.style.transition =
          "transform 0.6s cubic-bezier(0.45, 0, 0.55, 1)";

        function update() {
          carousel.style.transform = `translateX(-${index * 100}%)`;

          backBtn.disabled = index === 0;
          nextBtn.disabled = index === total - 1;

          backBtn.style.opacity = backBtn.disabled ? "0.4" : "1";
          nextBtn.style.opacity = nextBtn.disabled ? "0.4" : "1";
        }

        nextBtn.onclick = () => {
          if (index < total - 1) {
            index++;
            update();
          }
        };

        backBtn.onclick = () => {
          if (index > 0) {
            index--;
            update();
          }
        };

        update();
        return true;
      }

      document.addEventListener("DOMContentLoaded", () => {
        const checkInterval = setInterval(() => {
          const success = initProjectCarousel();
          if (success) clearInterval(checkInterval);
        }, 200);
      });
    </script>
  </body>
</html>
